# nimclosedenv
nimの閉鎖環境構築コマンド

# 概要
* nimを特定ディレクトで(なるべく)完結させるためのセットアップコマンドです
* python の venvのようなactivate, deactivateコマンドを提供します
* 現在対応しているのはWindows(64bit)のみ

## なぜ仮想環境ではなく閉鎖環境なのか？
nimは内部の環境変数に基づいたディレクトリの使い方が、単純には各環境ごとの安全性を保てないように感じたので
* 環境下のディレクトリのみで(なるべく)完結させるようにする
* nimが参照するディレクトリパスを設定した環境変数はなるべく環境下のディレクトリになるように変更する
  * nimbleによるパッケージインストール先
  * テンポラリディレクトリ
  * デフォルトのnimcache
* nimやmingw64も基本はダウンロードして環境下のディレクトリにインストールする。（マシンにインストール済みのものを利用することも可能）

という対応を行うことにしました。
ただし、3番目の「デフォルトのnimcache」を変えるために環境変数USERPROFILEを書き換える必要があり、それに伴う副作用が発生する可能性があります。（特に外部コマンド呼び出しで）

# ディレクトリレイアウト
後日記載予定

# 提供スクリプトで書き換えている環境変数
## Windowsの場合
* PATH
* NIMBLE_DIR
* TEMP
* USERPROFILE

# 使い方
後日記載予定

# ビルド方法
後日記載予定